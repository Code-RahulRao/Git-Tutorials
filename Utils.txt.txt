utility funcion of version 3.